(()=>{var a={};a.id=433,a.ids=[433],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:a=>{"use strict";a.exports=require("process")},21820:a=>{"use strict";a.exports=require("os")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29895:(a,b,c)=>{"use strict";c.d(b,{f:()=>g});var d=c(14151),e=c(34699);let f=new d.M({region:process.env.AWS_REGION,credentials:{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY}}),g=e.TG.from(f)},33873:a=>{"use strict";a.exports=require("path")},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},60544:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>du,patchFetch:()=>dt,routeModule:()=>dp,serverHooks:()=>ds,workAsyncStorage:()=>dq,workUnitAsyncStorage:()=>dr});var d={};c.r(d),c.d(d,{POST:()=>dn});var e=c(95736),f=c(9117),g=c(4044),h=c(39326),i=c(32324),j=c(261),k=c(54290),l=c(85328),m=c(38928),n=c(46595),o=c(3421),p=c(17679),q=c(41681),r=c(63446),s=c(86439),t=c(51356),u=c(10641),v=c(29895),w=c(34699),x=c(56765),y=c(69215),z=c(2251),A=c(68233),B=c(37389),C=c(94614),D=c(46769),E=c(78214),F=c(63067),G=c(84555),H=c(33081),I=c(84819),J=c(55675),K=c(99883),L=c(44447),M=c(10330),N=c(24621);let O=async(a,b,c)=>({operation:(0,M.u)(b).operation,region:await (0,N.t)(a.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),P=a=>{let b=[];return a.operation,b.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})}),b},Q={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},R={rE:"3.901.0"};var S=c(77832),T=c(82802),U=c(59741),V=c(26415),W=c(94313),X=c(34022),Y=c(78086),Z=c(82420),$=c(96347),_=c(14648),aa=c(97950),ab=c(61453),ac=c(17885),ad=c(57257),ae=c(75751),af=c(96024),ag=c(53683),ah=c(66709),ai=c(45352),aj=c(45877),ak=c(99872),al=c(64027),am=c(88807),an=c(65576),ao=c(38398);let ap="required",aq="argv",ar="isSet",as="booleanEquals",at="error",au="endpoint",av="tree",aw="PartitionResult",ax={[ap]:!1,type:"String"},ay={[ap]:!0,default:!1,type:"Boolean"},az={ref:"Endpoint"},aA={fn:as,[aq]:[{ref:"UseFIPS"},!0]},aB={fn:as,[aq]:[{ref:"UseDualStack"},!0]},aC={},aD={fn:"getAttr",[aq]:[{ref:aw},"supportsFIPS"]},aE={fn:as,[aq]:[!0,{fn:"getAttr",[aq]:[{ref:aw},"supportsDualStack"]}]},aF=[aA],aG=[aB],aH=[{ref:"Region"}],aI={version:"1.0",parameters:{Region:ax,UseDualStack:ay,UseFIPS:ay,Endpoint:ax},rules:[{conditions:[{fn:ar,[aq]:[az]}],rules:[{conditions:aF,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:at},{conditions:aG,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:at},{endpoint:{url:az,properties:aC,headers:aC},type:au}],type:av},{conditions:[{fn:ar,[aq]:aH}],rules:[{conditions:[{fn:"aws.partition",[aq]:aH,assign:aw}],rules:[{conditions:[aA,aB],rules:[{conditions:[{fn:as,[aq]:[!0,aD]},aE],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:aC,headers:aC},type:au}],type:av},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:at}],type:av},{conditions:aF,rules:[{conditions:[{fn:as,[aq]:[aD,!0]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:aC,headers:aC},type:au}],type:av},{error:"FIPS is enabled but this partition does not support FIPS",type:at}],type:av},{conditions:aG,rules:[{conditions:[aE],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:aC,headers:aC},type:au}],type:av},{error:"DualStack is enabled but this partition does not support DualStack",type:at}],type:av},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:aC,headers:aC},type:au}],type:av}],type:av},{error:"Invalid Configuration: Missing Region",type:at}]},aJ=new am.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),aK=(a,b={})=>aJ.get(a,()=>(0,an.s)(aI,{endpointParams:a,logger:b.logger}));ao.m.aws=al.UF;var aL=c(60500),aM=c(66052),aN=c(91469),aO=c(98641),aP=c(90997),aQ=c(64611);class aR extends K.K{config;constructor(...[a]){let b=(a=>{(0,aN.I)(process.version);let b=(0,aM.I)(a),c=()=>b().then(aL.l),d=(a=>({apiVersion:"2010-12-01",base64Decoder:a?.base64Decoder??ah.E,base64Encoder:a?.base64Encoder??ai.n,disableHostPrefix:a?.disableHostPrefix??!1,endpointProvider:a?.endpointProvider??aK,extensions:a?.extensions??[],httpAuthSchemeProvider:a?.httpAuthSchemeProvider??P,httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new ae.f2}],logger:a?.logger??new af.N,serviceId:a?.serviceId??"SES",urlParser:a?.urlParser??ag.D,utf8Decoder:a?.utf8Decoder??aj.a,utf8Encoder:a?.utf8Encoder??ak.P}))(a);(0,S.I)(process.version);let e={profile:a?.profile,logger:d.logger};return{...d,...a,runtime:"node",defaultsMode:b,authSchemePreference:a?.authSchemePreference??(0,_.Z)(T.$,e),bodyLengthChecker:a?.bodyLengthChecker??ac.n,credentialDefaultProvider:a?.credentialDefaultProvider??U.v6,defaultUserAgentProvider:a?.defaultUserAgentProvider??(0,V.pf)({serviceId:d.serviceId,clientVersion:R.rE}),maxAttempts:a?.maxAttempts??(0,_.Z)(I.qs,a),region:a?.region??(0,_.Z)(X.GG,{...X.zH,...e}),requestHandler:aa.$.create(a?.requestHandler??c),retryMode:a?.retryMode??(0,_.Z)({...I.kN,default:async()=>(await c()).retryMode||ad.L0},a),sha256:a?.sha256??$.V.bind(null,"sha256"),streamCollector:a?.streamCollector??ab.k,useDualstackEndpoint:a?.useDualstackEndpoint??(0,_.Z)(Y.e$,e),useFipsEndpoint:a?.useFipsEndpoint??(0,_.Z)(Z.Ko,e),userAgentAppId:a?.userAgentAppId??(0,_.Z)(W.hV,e)}})(a||{});super(b),this.initConfig=b;let c=(a=>Object.assign(a,{useDualstackEndpoint:a.useDualstackEndpoint??!1,useFipsEndpoint:a.useFipsEndpoint??!1,defaultSigningName:"ses"}))(b),d=(0,A.D)(c),e=(0,I.$z)(d),f=(0,C.T)(e),g=(0,x.OV)(f),h=((a,b)=>{let c=Object.assign((0,aO.R)(a),(0,aQ.xA)(a),(0,aP.e)(a),(a=>{let b=a.httpAuthSchemes,c=a.httpAuthSchemeProvider,d=a.credentials;return{setHttpAuthScheme(a){let c=b.findIndex(b=>b.schemeId===a.schemeId);-1===c?b.push(a):b.splice(c,1,a)},httpAuthSchemes:()=>b,setHttpAuthSchemeProvider(a){c=a},httpAuthSchemeProvider:()=>c,setCredentials(a){d=a},credentials:()=>d}})(a));return b.forEach(a=>a.configure(c)),Object.assign(a,(0,aO.$)(c),(0,aQ.uv)(c),(0,aP.j)(c),(a=>({httpAuthSchemes:a.httpAuthSchemes(),httpAuthSchemeProvider:a.httpAuthSchemeProvider(),credentials:a.credentials()}))(c))})((a=>Object.assign((0,L.h)(a),{authSchemePreference:(0,N.t)(a.authSchemePreference??[])}))((0,H.C)(g)),a?.extensions||[]);this.config=h,this.middlewareStack.use((0,B.sM)(this.config)),this.middlewareStack.use((0,J.ey)(this.config)),this.middlewareStack.use((0,G.vK)(this.config)),this.middlewareStack.use((0,x.TC)(this.config)),this.middlewareStack.use((0,y.Y7)(this.config)),this.middlewareStack.use((0,z.n)(this.config)),this.middlewareStack.use((0,D.w)(this.config,{httpAuthSchemeParametersProvider:O,identityProviderConfigProvider:async a=>new E.h({"aws.auth#sigv4":a.credentials})})),this.middlewareStack.use((0,F.l)(this.config))}destroy(){super.destroy()}}var aS=c(19316),aT=c(73593),aU=c(99656),aV=c(8630),aW=c(42414),aX=c(56494),aY=c(57098),aZ=c(12009),a$=c(99374);class a_ extends aX.T{constructor(a){super(a),Object.setPrototypeOf(this,a_.prototype)}}class a0 extends a_{name="AccountSendingPausedException";$fault="client";constructor(a){super({name:"AccountSendingPausedException",$fault:"client",...a}),Object.setPrototypeOf(this,a0.prototype)}}class a1 extends a_{name="AlreadyExistsException";$fault="client";Name;constructor(a){super({name:"AlreadyExistsException",$fault:"client",...a}),Object.setPrototypeOf(this,a1.prototype),this.Name=a.Name}}class a2 extends a_{name="CannotDeleteException";$fault="client";Name;constructor(a){super({name:"CannotDeleteException",$fault:"client",...a}),Object.setPrototypeOf(this,a2.prototype),this.Name=a.Name}}class a3 extends a_{name="LimitExceededException";$fault="client";constructor(a){super({name:"LimitExceededException",$fault:"client",...a}),Object.setPrototypeOf(this,a3.prototype)}}class a4 extends a_{name="RuleSetDoesNotExistException";$fault="client";Name;constructor(a){super({name:"RuleSetDoesNotExistException",$fault:"client",...a}),Object.setPrototypeOf(this,a4.prototype),this.Name=a.Name}}class a5 extends a_{name="ConfigurationSetAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(a){super({name:"ConfigurationSetAlreadyExistsException",$fault:"client",...a}),Object.setPrototypeOf(this,a5.prototype),this.ConfigurationSetName=a.ConfigurationSetName}}class a6 extends a_{name="ConfigurationSetDoesNotExistException";$fault="client";ConfigurationSetName;constructor(a){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...a}),Object.setPrototypeOf(this,a6.prototype),this.ConfigurationSetName=a.ConfigurationSetName}}class a7 extends a_{name="ConfigurationSetSendingPausedException";$fault="client";ConfigurationSetName;constructor(a){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...a}),Object.setPrototypeOf(this,a7.prototype),this.ConfigurationSetName=a.ConfigurationSetName}}class a8 extends a_{name="InvalidConfigurationSetException";$fault="client";constructor(a){super({name:"InvalidConfigurationSetException",$fault:"client",...a}),Object.setPrototypeOf(this,a8.prototype)}}class a9 extends a_{name="EventDestinationAlreadyExistsException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(a){super({name:"EventDestinationAlreadyExistsException",$fault:"client",...a}),Object.setPrototypeOf(this,a9.prototype),this.ConfigurationSetName=a.ConfigurationSetName,this.EventDestinationName=a.EventDestinationName}}class ba extends a_{name="InvalidCloudWatchDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(a){super({name:"InvalidCloudWatchDestinationException",$fault:"client",...a}),Object.setPrototypeOf(this,ba.prototype),this.ConfigurationSetName=a.ConfigurationSetName,this.EventDestinationName=a.EventDestinationName}}class bb extends a_{name="InvalidFirehoseDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(a){super({name:"InvalidFirehoseDestinationException",$fault:"client",...a}),Object.setPrototypeOf(this,bb.prototype),this.ConfigurationSetName=a.ConfigurationSetName,this.EventDestinationName=a.EventDestinationName}}class bc extends a_{name="InvalidSNSDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(a){super({name:"InvalidSNSDestinationException",$fault:"client",...a}),Object.setPrototypeOf(this,bc.prototype),this.ConfigurationSetName=a.ConfigurationSetName,this.EventDestinationName=a.EventDestinationName}}class bd extends a_{name="InvalidTrackingOptionsException";$fault="client";constructor(a){super({name:"InvalidTrackingOptionsException",$fault:"client",...a}),Object.setPrototypeOf(this,bd.prototype)}}class be extends a_{name="TrackingOptionsAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(a){super({name:"TrackingOptionsAlreadyExistsException",$fault:"client",...a}),Object.setPrototypeOf(this,be.prototype),this.ConfigurationSetName=a.ConfigurationSetName}}class bf extends a_{name="CustomVerificationEmailInvalidContentException";$fault="client";constructor(a){super({name:"CustomVerificationEmailInvalidContentException",$fault:"client",...a}),Object.setPrototypeOf(this,bf.prototype)}}class bg extends a_{name="CustomVerificationEmailTemplateAlreadyExistsException";$fault="client";CustomVerificationEmailTemplateName;constructor(a){super({name:"CustomVerificationEmailTemplateAlreadyExistsException",$fault:"client",...a}),Object.setPrototypeOf(this,bg.prototype),this.CustomVerificationEmailTemplateName=a.CustomVerificationEmailTemplateName}}class bh extends a_{name="FromEmailAddressNotVerifiedException";$fault="client";FromEmailAddress;constructor(a){super({name:"FromEmailAddressNotVerifiedException",$fault:"client",...a}),Object.setPrototypeOf(this,bh.prototype),this.FromEmailAddress=a.FromEmailAddress}}class bi extends a_{name="InvalidLambdaFunctionException";$fault="client";FunctionArn;constructor(a){super({name:"InvalidLambdaFunctionException",$fault:"client",...a}),Object.setPrototypeOf(this,bi.prototype),this.FunctionArn=a.FunctionArn}}class bj extends a_{name="InvalidS3ConfigurationException";$fault="client";Bucket;constructor(a){super({name:"InvalidS3ConfigurationException",$fault:"client",...a}),Object.setPrototypeOf(this,bj.prototype),this.Bucket=a.Bucket}}class bk extends a_{name="InvalidSnsTopicException";$fault="client";Topic;constructor(a){super({name:"InvalidSnsTopicException",$fault:"client",...a}),Object.setPrototypeOf(this,bk.prototype),this.Topic=a.Topic}}class bl extends a_{name="RuleDoesNotExistException";$fault="client";Name;constructor(a){super({name:"RuleDoesNotExistException",$fault:"client",...a}),Object.setPrototypeOf(this,bl.prototype),this.Name=a.Name}}class bm extends a_{name="InvalidTemplateException";$fault="client";TemplateName;constructor(a){super({name:"InvalidTemplateException",$fault:"client",...a}),Object.setPrototypeOf(this,bm.prototype),this.TemplateName=a.TemplateName}}class bn extends a_{name="CustomVerificationEmailTemplateDoesNotExistException";$fault="client";CustomVerificationEmailTemplateName;constructor(a){super({name:"CustomVerificationEmailTemplateDoesNotExistException",$fault:"client",...a}),Object.setPrototypeOf(this,bn.prototype),this.CustomVerificationEmailTemplateName=a.CustomVerificationEmailTemplateName}}class bo extends a_{name="EventDestinationDoesNotExistException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(a){super({name:"EventDestinationDoesNotExistException",$fault:"client",...a}),Object.setPrototypeOf(this,bo.prototype),this.ConfigurationSetName=a.ConfigurationSetName,this.EventDestinationName=a.EventDestinationName}}class bp extends a_{name="TrackingOptionsDoesNotExistException";$fault="client";ConfigurationSetName;constructor(a){super({name:"TrackingOptionsDoesNotExistException",$fault:"client",...a}),Object.setPrototypeOf(this,bp.prototype),this.ConfigurationSetName=a.ConfigurationSetName}}class bq extends a_{name="TemplateDoesNotExistException";$fault="client";TemplateName;constructor(a){super({name:"TemplateDoesNotExistException",$fault:"client",...a}),Object.setPrototypeOf(this,bq.prototype),this.TemplateName=a.TemplateName}}class br extends a_{name="InvalidDeliveryOptionsException";$fault="client";constructor(a){super({name:"InvalidDeliveryOptionsException",$fault:"client",...a}),Object.setPrototypeOf(this,br.prototype)}}class bs extends a_{name="InvalidPolicyException";$fault="client";constructor(a){super({name:"InvalidPolicyException",$fault:"client",...a}),Object.setPrototypeOf(this,bs.prototype)}}class bt extends a_{name="InvalidRenderingParameterException";$fault="client";TemplateName;constructor(a){super({name:"InvalidRenderingParameterException",$fault:"client",...a}),Object.setPrototypeOf(this,bt.prototype),this.TemplateName=a.TemplateName}}class bu extends a_{name="MailFromDomainNotVerifiedException";$fault="client";constructor(a){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...a}),Object.setPrototypeOf(this,bu.prototype)}}class bv extends a_{name="MessageRejected";$fault="client";constructor(a){super({name:"MessageRejected",$fault:"client",...a}),Object.setPrototypeOf(this,bv.prototype)}}class bw extends a_{name="MissingRenderingAttributeException";$fault="client";TemplateName;constructor(a){super({name:"MissingRenderingAttributeException",$fault:"client",...a}),Object.setPrototypeOf(this,bw.prototype),this.TemplateName=a.TemplateName}}class bx extends a_{name="ProductionAccessNotGrantedException";$fault="client";constructor(a){super({name:"ProductionAccessNotGrantedException",$fault:"client",...a}),Object.setPrototypeOf(this,bx.prototype)}}let by=async(a,b)=>{let c;return c=dj({...ca(a,b),[cP]:c8,[dg]:cO}),cM(b,cN,"/",void 0,c)},bz=async(a,b)=>{if(a.statusCode>=300)return bA(a,b);let c=await (0,aV.t_)(a.body,b),d={};return d=cG(c.SendEmailResult,b),{$metadata:cK(a),...d}},bA=async(a,b)=>{let c={...a,body:await (0,aV.FI)(a.body,b)},d=dk(a,c.body);switch(d){case"AlreadyExists":case"com.amazonaws.ses#AlreadyExistsException":throw await bC(c,b);case"LimitExceeded":case"com.amazonaws.ses#LimitExceededException":throw await bZ(c,b);case"RuleSetDoesNotExist":case"com.amazonaws.ses#RuleSetDoesNotExistException":throw await b3(c,b);case"ConfigurationSetAlreadyExists":case"com.amazonaws.ses#ConfigurationSetAlreadyExistsException":throw await bE(c,b);case"InvalidConfigurationSet":case"com.amazonaws.ses#InvalidConfigurationSetException":throw await bO(c,b);case"ConfigurationSetDoesNotExist":case"com.amazonaws.ses#ConfigurationSetDoesNotExistException":throw await bF(c,b);case"EventDestinationAlreadyExists":case"com.amazonaws.ses#EventDestinationAlreadyExistsException":throw await bK(c,b);case"InvalidCloudWatchDestination":case"com.amazonaws.ses#InvalidCloudWatchDestinationException":throw await bN(c,b);case"InvalidFirehoseDestination":case"com.amazonaws.ses#InvalidFirehoseDestinationException":throw await bQ(c,b);case"InvalidSNSDestination":case"com.amazonaws.ses#InvalidSNSDestinationException":throw await bV(c,b);case"InvalidTrackingOptions":case"com.amazonaws.ses#InvalidTrackingOptionsException":throw await bY(c,b);case"TrackingOptionsAlreadyExistsException":case"com.amazonaws.ses#TrackingOptionsAlreadyExistsException":throw await b5(c,b);case"CustomVerificationEmailInvalidContent":case"com.amazonaws.ses#CustomVerificationEmailInvalidContentException":throw await bH(c,b);case"CustomVerificationEmailTemplateAlreadyExists":case"com.amazonaws.ses#CustomVerificationEmailTemplateAlreadyExistsException":throw await bI(c,b);case"FromEmailAddressNotVerified":case"com.amazonaws.ses#FromEmailAddressNotVerifiedException":throw await bM(c,b);case"InvalidLambdaFunction":case"com.amazonaws.ses#InvalidLambdaFunctionException":throw await bR(c,b);case"InvalidS3Configuration":case"com.amazonaws.ses#InvalidS3ConfigurationException":throw await bU(c,b);case"InvalidSnsTopic":case"com.amazonaws.ses#InvalidSnsTopicException":throw await bW(c,b);case"RuleDoesNotExist":case"com.amazonaws.ses#RuleDoesNotExistException":throw await b2(c,b);case"InvalidTemplate":case"com.amazonaws.ses#InvalidTemplateException":throw await bX(c,b);case"EventDestinationDoesNotExist":case"com.amazonaws.ses#EventDestinationDoesNotExistException":throw await bL(c,b);case"TrackingOptionsDoesNotExistException":case"com.amazonaws.ses#TrackingOptionsDoesNotExistException":throw await b6(c,b);case"CannotDelete":case"com.amazonaws.ses#CannotDeleteException":throw await bD(c,b);case"CustomVerificationEmailTemplateDoesNotExist":case"com.amazonaws.ses#CustomVerificationEmailTemplateDoesNotExistException":throw await bJ(c,b);case"TemplateDoesNotExist":case"com.amazonaws.ses#TemplateDoesNotExistException":throw await b4(c,b);case"InvalidDeliveryOptions":case"com.amazonaws.ses#InvalidDeliveryOptionsException":throw await bP(c,b);case"InvalidPolicy":case"com.amazonaws.ses#InvalidPolicyException":throw await bS(c,b);case"MessageRejected":case"com.amazonaws.ses#MessageRejected":throw await b_(c,b);case"AccountSendingPausedException":case"com.amazonaws.ses#AccountSendingPausedException":throw await bB(c,b);case"ConfigurationSetSendingPausedException":case"com.amazonaws.ses#ConfigurationSetSendingPausedException":throw await bG(c,b);case"MailFromDomainNotVerifiedException":case"com.amazonaws.ses#MailFromDomainNotVerifiedException":throw await b$(c,b);case"ProductionAccessNotGranted":case"com.amazonaws.ses#ProductionAccessNotGrantedException":throw await b1(c,b);case"InvalidRenderingParameter":case"com.amazonaws.ses#InvalidRenderingParameterException":throw await bT(c,b);case"MissingRenderingAttribute":case"com.amazonaws.ses#MissingRenderingAttributeException":throw await b0(c,b);default:return cL({output:a,parsedBody:c.body.Error,errorCode:d})}},bB=async(a,b)=>{let c=a.body,d=cb(c.Error,b),e=new a0({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bC=async(a,b)=>{let c=a.body,d=cc(c.Error,b),e=new a1({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bD=async(a,b)=>{let c=a.body,d=cd(c.Error,b),e=new a2({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bE=async(a,b)=>{let c=a.body,d=ce(c.Error,b),e=new a5({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bF=async(a,b)=>{let c=a.body,d=cf(c.Error,b),e=new a6({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bG=async(a,b)=>{let c=a.body,d=cg(c.Error,b),e=new a7({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bH=async(a,b)=>{let c=a.body,d=ch(c.Error,b),e=new bf({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bI=async(a,b)=>{let c=a.body,d=ci(c.Error,b),e=new bg({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bJ=async(a,b)=>{let c=a.body,d=cj(c.Error,b),e=new bn({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bK=async(a,b)=>{let c=a.body,d=ck(c.Error,b),e=new a9({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bL=async(a,b)=>{let c=a.body,d=cl(c.Error,b),e=new bo({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bM=async(a,b)=>{let c=a.body,d=cm(c.Error,b),e=new bh({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bN=async(a,b)=>{let c=a.body,d=cn(c.Error,b),e=new ba({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bO=async(a,b)=>{let c=a.body,d=co(c.Error,b),e=new a8({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bP=async(a,b)=>{let c=a.body,d=cp(c.Error,b),e=new br({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bQ=async(a,b)=>{let c=a.body,d=cq(c.Error,b),e=new bb({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bR=async(a,b)=>{let c=a.body,d=cr(c.Error,b),e=new bi({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bS=async(a,b)=>{let c=a.body,d=cs(c.Error,b),e=new bs({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bT=async(a,b)=>{let c=a.body,d=ct(c.Error,b),e=new bt({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bU=async(a,b)=>{let c=a.body,d=cu(c.Error,b),e=new bj({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bV=async(a,b)=>{let c=a.body,d=cv(c.Error,b),e=new bc({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bW=async(a,b)=>{let c=a.body,d=cw(c.Error,b),e=new bk({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bX=async(a,b)=>{let c=a.body,d=cx(c.Error,b),e=new bm({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bY=async(a,b)=>{let c=a.body,d=cy(c.Error,b),e=new bd({$metadata:cK(a),...d});return(0,aX.M)(e,c)},bZ=async(a,b)=>{let c=a.body,d=cz(c.Error,b),e=new a3({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b$=async(a,b)=>{let c=a.body,d=cA(c.Error,b),e=new bu({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b_=async(a,b)=>{let c=a.body,d=cB(c.Error,b),e=new bv({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b0=async(a,b)=>{let c=a.body,d=cC(c.Error,b),e=new bw({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b1=async(a,b)=>{let c=a.body,d=cD(c.Error,b),e=new bx({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b2=async(a,b)=>{let c=a.body,d=cE(c.Error,b),e=new bl({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b3=async(a,b)=>{let c=a.body,d=cF(c.Error,b),e=new a4({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b4=async(a,b)=>{let c=a.body,d=cH(c.Error,b),e=new bq({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b5=async(a,b)=>{let c=a.body,d=cI(c.Error,b),e=new be({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b6=async(a,b)=>{let c=a.body,d=cJ(c.Error,b),e=new bp({$metadata:cK(a),...d});return(0,aX.M)(e,c)},b7=(a,b)=>{let c={},d=1;for(let b of a)null!==b&&(c[`member.${d}`]=b,d++);return c},b8=(a,b)=>{let c={};return null!=a[cY]&&(c[cY]=a[cY]),null!=a[cT]&&(c[cT]=a[cT]),c},b9=(a,b)=>{let c={};return null!=a[c3]&&(c[c3]=a[c3]),null!=a[dh]&&(c[dh]=a[dh]),c},ca=(a,b)=>{let c={};if(null!=a[c9]&&(c[c9]=a[c9]),null!=a[cX]&&Object.entries(((a,b)=>{let c={};if(null!=a[dc]){let d=b7(a[dc],b);a[dc]?.length===0&&(c.ToAddresses=[]),Object.entries(d).forEach(([a,b])=>{c[`ToAddresses.${a}`]=b})}if(null!=a[cU]){let d=b7(a[cU],b);a[cU]?.length===0&&(c.CcAddresses=[]),Object.entries(d).forEach(([a,b])=>{c[`CcAddresses.${a}`]=b})}if(null!=a[cR]){let d=b7(a[cR],b);a[cR]?.length===0&&(c.BccAddresses=[]),Object.entries(d).forEach(([a,b])=>{c[`BccAddresses.${a}`]=b})}return c})(a[cX],b)).forEach(([a,b])=>{c[`Destination.${a}`]=b}),null!=a[c1]&&Object.entries(((a,b)=>{let c={};return null!=a[da]&&Object.entries(b8(a[da],b)).forEach(([a,b])=>{c[`Subject.${a}`]=b}),null!=a[cQ]&&Object.entries(((a,b)=>{let c={};return null!=a[db]&&Object.entries(b8(a[db],b)).forEach(([a,b])=>{c[`Text.${a}`]=b}),null!=a[c0]&&Object.entries(b8(a[c0],b)).forEach(([a,b])=>{c[`Html.${a}`]=b}),c})(a[cQ],b)).forEach(([a,b])=>{c[`Body.${a}`]=b}),c})(a[c1],b)).forEach(([a,b])=>{c[`Message.${a}`]=b}),null!=a[c6]){let d=b7(a[c6],b);a[c6]?.length===0&&(c.ReplyToAddresses=[]),Object.entries(d).forEach(([a,b])=>{c[`ReplyToAddresses.${a}`]=b})}if(null!=a[c4]&&(c[c4]=a[c4]),null!=a[c7]&&(c[c7]=a[c7]),null!=a[c5]&&(c[c5]=a[c5]),null!=a[de]){let d=((a,b)=>{let c={},d=1;for(let e of a)null!==e&&(Object.entries(b9(e,b)).forEach(([a,b])=>{c[`member.${d}.${a}`]=b}),d++);return c})(a[de],b);a[de]?.length===0&&(c.Tags=[]),Object.entries(d).forEach(([a,b])=>{c[`Tags.${a}`]=b})}return null!=a[cV]&&(c[cV]=a[cV]),c},cb=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cc=(a,b)=>{let c={};return null!=a[c3]&&(c[c3]=(0,aY.lK)(a[c3])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cd=(a,b)=>{let c={};return null!=a[c3]&&(c[c3]=(0,aY.lK)(a[c3])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},ce=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cf=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cg=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},ch=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},ci=(a,b)=>{let c={};return null!=a[cW]&&(c[cW]=(0,aY.lK)(a[cW])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cj=(a,b)=>{let c={};return null!=a[cW]&&(c[cW]=(0,aY.lK)(a[cW])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},ck=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[cZ]&&(c[cZ]=(0,aY.lK)(a[cZ])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cl=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[cZ]&&(c[cZ]=(0,aY.lK)(a[cZ])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cm=(a,b)=>{let c={};return null!=a[c_]&&(c[c_]=(0,aY.lK)(a[c_])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cn=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[cZ]&&(c[cZ]=(0,aY.lK)(a[cZ])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},co=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cp=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cq=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[cZ]&&(c[cZ]=(0,aY.lK)(a[cZ])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cr=(a,b)=>{let c={};return null!=a[c$]&&(c[c$]=(0,aY.lK)(a[c$])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cs=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},ct=(a,b)=>{let c={};return null!=a[dd]&&(c[dd]=(0,aY.lK)(a[dd])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cu=(a,b)=>{let c={};return null!=a[cS]&&(c[cS]=(0,aY.lK)(a[cS])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cv=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[cZ]&&(c[cZ]=(0,aY.lK)(a[cZ])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cw=(a,b)=>{let c={};return null!=a[df]&&(c[df]=(0,aY.lK)(a[df])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cx=(a,b)=>{let c={};return null!=a[dd]&&(c[dd]=(0,aY.lK)(a[dd])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cy=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cz=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cA=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cB=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cC=(a,b)=>{let c={};return null!=a[dd]&&(c[dd]=(0,aY.lK)(a[dd])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cD=(a,b)=>{let c={};return null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cE=(a,b)=>{let c={};return null!=a[c3]&&(c[c3]=(0,aY.lK)(a[c3])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cF=(a,b)=>{let c={};return null!=a[c3]&&(c[c3]=(0,aY.lK)(a[c3])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cG=(a,b)=>{let c={};return null!=a[c2]&&(c[c2]=(0,aY.lK)(a[c2])),c},cH=(a,b)=>{let c={};return null!=a[dd]&&(c[dd]=(0,aY.lK)(a[dd])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cI=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cJ=(a,b)=>{let c={};return null!=a[cV]&&(c[cV]=(0,aY.lK)(a[cV])),null!=a[di]&&(c[di]=(0,aY.lK)(a[di])),c},cK=a=>({httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}),cL=(0,aZ.j)(a_),cM=async(a,b,c,d,e)=>{let{hostname:f,protocol:g="https",port:h,path:i}=await a.endpoint(),j={protocol:g,hostname:f,port:h,method:"POST",path:i.endsWith("/")?i.slice(0,-1)+c:i+c,headers:b};return void 0!==d&&(j.hostname=d),void 0!==e&&(j.body=e),new aW.K(j)},cN={"content-type":"application/x-www-form-urlencoded"},cO="2010-12-01",cP="Action",cQ="Body",cR="BccAddresses",cS="Bucket",cT="Charset",cU="CcAddresses",cV="ConfigurationSetName",cW="CustomVerificationEmailTemplateName",cX="Destination",cY="Data",cZ="EventDestinationName",c$="FunctionArn",c_="FromEmailAddress",c0="Html",c1="Message",c2="MessageId",c3="Name",c4="ReturnPath",c5="ReturnPathArn",c6="ReplyToAddresses",c7="SourceArn",c8="SendEmail",c9="Source",da="Subject",db="Text",dc="ToAddresses",dd="TemplateName",de="Tags",df="Topic",dg="Version",dh="Value",di="message",dj=a=>Object.entries(a).map(([a,b])=>(0,a$.$)(a)+"="+(0,a$.$)(b)).join("&"),dk=(a,b)=>b.Error?.Code!==void 0?b.Error.Code:404==a.statusCode?"NotFound":void 0;class dl extends aU.u.classBuilder().ep(Q).m(function(a,b,c,d){return[(0,aT.TM)(c,this.serialize,this.deserialize),(0,aS.r)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendEmail",{}).n("SESClient","SendEmailCommand").f(void 0,void 0).ser(by).de(bz).build(){}let dm=new aR({region:process.env.AWS_REGION||"us-east-1",credentials:{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY}});async function dn(a){try{let{email:b}=await a.json();if(!b||!b.includes("@"))return u.NextResponse.json({error:"Valid email is required"},{status:400});let c=Math.floor(1e5+9e5*Math.random()).toString(),d=Date.now()+6e5,e=!(await v.f.send(new w.s$({TableName:process.env.DYNAMO_USERS_TABLE,Key:{username:b}}))).Item;e?await v.f.send(new w.Z$({TableName:process.env.DYNAMO_USERS_TABLE,Item:{username:b,chips:500,verificationCode:c,codeExpiresAt:d,isVerified:!1,createdAt:Date.now()}})):await v.f.send(new w.fR({TableName:process.env.DYNAMO_USERS_TABLE,Key:{username:b},UpdateExpression:"SET verificationCode = :code, codeExpiresAt = :expires",ExpressionAttributeValues:{":code":c,":expires":d}}));let f={Source:process.env.SES_FROM_EMAIL,Destination:{ToAddresses:[b]},Message:{Subject:{Data:"Your Blackjack Verification Code",Charset:"UTF-8"},Body:{Html:{Data:`
                            <!DOCTYPE html>
                            <html>
                            <head>
                                <meta charset="UTF-8">
                            </head>
                            <body style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
                                <div style="background: linear-gradient(135deg, #fccfcf 0%, #ffb5c0 100%); padding: 40px; border-radius: 12px; text-align: center;">
                                    <h1 style="color: white; margin: 0;">🎰 Blackjack</h1>
                                </div>
                                
                                <div style="background: white; padding: 40px; border-radius: 12px; margin-top: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    ${e?`
                                        <h2 style="color: #333; margin-top: 0;">Welcome to Blackjack! 🎉</h2>
                                        <p style="color: #666; font-size: 16px;">Your account has been created with <strong>500 chips</strong> to get you started.</p>
                                    `:`
                                        <h2 style="color: #333; margin-top: 0;">Welcome Back! 👋</h2>
                                    `}
                                    
                                    <p style="color: #666; font-size: 16px;">Your verification code is:</p>
                                    
                                    <div style="background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 30px 0;">
                                        <p style="font-size: 36px; font-weight: bold; color: #ff9fb0; margin: 0; letter-spacing: 8px; text-align: center;">${c}</p>
                                    </div>
                                    
                                    <p style="color: #999; font-size: 14px;">This code expires in 10 minutes.</p>
                                </div>
                                
                                <p style="color: #999; font-size: 12px; text-align: center; margin-top: 20px;">
                                    If you didn't request this code, please ignore this email.
                                </p>
                            </body>
                            </html>
                        `,Charset:"UTF-8"},Text:{Data:`Your Blackjack verification code is: ${c}

${e?"Welcome! Your account has been created with 500 chips.\n\n":""}This code expires in 10 minutes.

If you didn't request this code, please ignore this email.`,Charset:"UTF-8"}}}};return await dm.send(new dl(f)),u.NextResponse.json({success:!0,message:"Verification code sent to your email",isNewUser:e})}catch(a){return console.error("Error sending verification code:",a),u.NextResponse.json({error:"Failed to send verification code"},{status:500})}}let dp=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/api/auth/send-code/route",pathname:"/api/auth/send-code",filename:"route",bundlePath:"app/api/auth/send-code/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/Users/annadang/Desktop/Projects/blackjack/blackjack-game/src/app/api/auth/send-code/route.ts",nextConfigOutput:"",userland:d}),{workAsyncStorage:dq,workUnitAsyncStorage:dr,serverHooks:ds}=dp;function dt(){return(0,g.patchFetch)({workAsyncStorage:dq,workUnitAsyncStorage:dr})}async function du(a,b,c){var d;let e="/api/auth/send-code/route";"/index"===e&&(e="/");let g=await dp.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:y,routerServerContext:z,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,resolvedPathname:C}=g,D=(0,j.normalizeAppPath)(e),E=!!(y.dynamicRoutes[D]||y.routes[C]);if(E&&!x){let a=!!y.routes[C],b=y.dynamicRoutes[D];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let F=null;!E||dp.isDev||x||(F="/index"===(F=C)?"/":F);let G=!0===dp.isDev||!E,H=E&&!G,I=a.method||"GET",J=(0,i.getTracer)(),K=J.getActiveScopeSpan(),L={params:v,prerenderManifest:y,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:G,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:H,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>dp.onRequestError(a,b,d,z)},sharedContext:{buildId:u}},M=new k.NodeNextRequest(a),N=new k.NodeNextResponse(b),O=l.NextRequestAdapter.fromNodeNextRequest(M,(0,l.signalFromNodeResponse)(b));try{let d=async c=>dp.handle(O,L).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=J.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${I} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${I} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&A&&B&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=L.renderOpts.fetchMetrics;let i=L.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=L.renderOpts.collectedTags;if(!E)return await (0,o.I)(M,N,e,L.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,d=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await dp.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})},z),b}},l=await dp.handleResponse({req:a,nextConfig:w,cacheKey:F,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,responseGenerator:k,waitUntil:c.waitUntil});if(!E)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",A?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&E||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(M,N,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};K?await g(K):await J.withPropagatedContext(a.headers,()=>J.trace(m.BaseServerSpan.handleRequest,{spanName:`${I} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":I,"http.target":a.url}},g))}catch(b){if(b instanceof s.NoFallbackError||await dp.onRequestError(a,b,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})}),E)throw b;return await (0,o.I)(M,N,new Response(null,{status:500})),null}}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},79646:a=>{"use strict";a.exports=require("child_process")},79748:a=>{"use strict";a.exports=require("fs/promises")},81630:a=>{"use strict";a.exports=require("http")},84297:a=>{"use strict";a.exports=require("async_hooks")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},96487:()=>{}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[996,148,641,67],()=>b(b.s=60544));module.exports=c})();